<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"browser_service_factory.js.html":{"id":"browser_service_factory.js.html","title":"Source: browser_service_factory.js","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Source: browser_service_factory.js /** * Browser service factory * @constructor * @desc This factory creates a service creates a new service on `namespace` module, * this service can be acessed from the browser and act as proxy for the service itself, * its called when the user calls .browserPublic() on their service. Only the services * created by this factory are accessible from the browser. (This is private) * @author Erich Oliveira * @param {String} namespace * @param {Object} Studio * @return {Function} The service factory. This factory creates browser public services. */ function browserServiceFactory(namespace,Studio){ &quot;use strict&quot;; return function(serv){ var namespaceStudio = Studio.module(namespace); var ref = Studio(serv.id); return namespaceStudio({ id:serv.id, fn:function(){ return ref.apply(ref,arguments); } }); }; }; module.exports = browserServiceFactory; × Search results Close "},"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Source: index.js var DEFAULT_NAMESPACE = '__browser'; var browserServiceFactory = require('./browser_service_factory'); var serverFactory = require('./socket_io_server'); /** * Plugin for socketio browser access * @constructor * @author Erich Oliveira * @public * @param {Object} options * @param {String} options.defaultNamespace the module name which will prepend the service automatically instantiated for browser access. Defaults to __browser * @param {String} options.serviceCallEventName The name of the channel used to communicate the services. Defaults to __studio_service_call * @param {String} options.socketIO The socketIO object used as the server, if none is provided it creates a new server binding to options.port * @param {Number} options.port If no options.socketIO is provided, the new server will bind to this port. Defaults to 3000 * @default { defaultNamespace:'__browser', serviceCallEventName:'__studio_service_call', port:3000 } * @example var browserPlugin = require('studio-browser'); Studio.use(browserPlugin()); */ function Plugin(options){ &quot;use strict&quot;; options = options || {}; options.defaultNamespace = options.defaultNamespace || DEFAULT_NAMESPACE; return function(services,Studio){ var serviceFactory,server; serviceFactory = browserServiceFactory(options.defaultNamespace,Studio); server = serverFactory(options,Studio); services.onStart(function(serv,ref){ ref.browserPublic = function(){ serviceFactory(serv); return serv; }; }); }; } module.exports = Plugin; × Search results Close "},"socket_io_server.js.html":{"id":"socket_io_server.js.html","title":"Source: socket_io_server.js","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Source: socket_io_server.js /* * DEFAULT_SERVICE_CALL_EVENT_NAME * @const the name of the channel used for browser/server rpc */ var DEFAULT_SERVICE_CALL_EVENT_NAME = '__studio_service_call'; var serializeError = require('serialize-error'); /** * Socket io server Initializer * @constructor * @desc Initialize a socketio server for browser/server service rpc communication. (This is private) * @author Erich Oliveira * @param {Object} options * @param {String} options.defaultNamespace the module name which will prepend the service automatically instantiated for browser access. * @param {String} options.serviceCallEventName The name of the channel used to communicate the services. * @param {String} options.socketIO The socketIO object used as the server, if none is provided it creates a new server binding to options.port * @param {String} options.port If no options.socketIO is provided, the new server will bind to this port. Defaults to 3000 * @return {undefined} */ var serverFactory = function(options,Studio){ &quot;use strict&quot;; var httpServer,io, namespace = Studio.module(options.defaultNamespace); options = options || {}; io = options.socketIO; if(!options.socketIO){ io = require('socket.io')(options.port || 3000); } io.on('connection', function(socket){ socket.on(options.serviceCallEventName || DEFAULT_SERVICE_CALL_EVENT_NAME, function(data,fn){ data = JSON.parse(data); namespace(data.service).apply(null,data.params).then(function(result){ var response = {response:result}; fn(response); }).catch(function(result){ var response = {error:serializeError(result)}; fn(response); }); }); }); }; module.exports = serverFactory; × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Classes Classes browserServiceFactory Plugin serverFactory × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Studio Browser Plugin Studio Browser is a plugin for Studio which enables browser direct access (rpc) to your services. If you dont know Studio, you will need to read about it here to unleash the REAL power of micro services in node,it is really easy to use, enforces good practices, and as advantage lets you cluster your application without ANY configuration,real time metrics, and even more. Your services are built to scale since thay one. To use Studio Browser you also need to add Studio Browser Client as a dependency to your html. This plugin is really simple to use as it lets you access your server the exact same way you do on server-to-server Studio service call. Wants to learn more???? Click here to join our slack channel Table of contents Install Intro Getting Started Examples Build Test License IntroYou probably already know Studio and how it can help you to create and manage micro services without eventhinking about it. You probably already know how to clusterize Studio your services without configurationand all the advantages you can take from a micro services created to be easy to use since they one. Now its time to take one step further and use a really simple interface to access your services from the browser. Now is time to Studio Browser. Getting StartedTo use Studio browser you will need to install it on your server Studio based application, to do this, just run npm install studio-browser --saveYou will also need to add Studio Browser Client as a dependecy on your html.You can do this installing from npm with browserify or downloading the full file from here. Now you're ready to acess your server services from browser. ExamplesHere is a hello world example using Studio Browser:To run this example you will need to install Studio ,Studio Browser,socket io and express . Im using express ONLY to deliver the html file. On your server: var Studio = require('studio'); var StudioBrowser = require('studio-browser'); var app = require('express')(); var http = require('http').Server(app); var io = require('socket.io')(http); app.get('/', function(req, res){ res.sendFile(__dirname + '/index.html'); }); http.listen(3000, function(){ console.log('listening on *:3000'); }); /* Usually you dont need to pass your own socketIO reference, if you dont pass any, Studio Browser creates it to you on port 3000. But as we want to deploy everything together we are just sharing the http server between socket io and express. */ Studio.use(StudioBrowser({socketIO:io})); Studio(function sayHello(){ return 'Hello World From Server'; }).browserPublic(); /* Calling .browserPublic() makes your service available for direct access from browser*/ Studio(function somePrivateFunction(){ return 'foo'; }); /* If you dont call .browserPublic() your service cant be accessed directly from browser*/And on your browser you can create the followind index.html file: &lt;html&gt; &lt;head&gt; &lt;title&gt;Studio Browser example&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1 id=&quot;result&quot;&gt;&lt;/h1&gt; &lt;script src=&quot;https://raw.githubusercontent.com/ericholiveira/studio-browser-client/master/browser/studio-browser-client-with-dependecies.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; Studio.use(Studio.plugin.client({ip:'http://localhost:3000/'}));//the server address var sayHelloService = Studio('sayHello'); sayHelloService().then(function(message){ document.getElementById('result').innerHTML = message; }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;Now you just have to run your server with node, and open your browser on http://localhost:3000 Thats it... Is that simple to access your services from the browser... You dont even need to understand what is a request nor anything related.We just handle it to you. BuildTo build the project you have to run: npm install npm testThis is going to install dependencies, lint and test the code TestRun test with: npm testLicenseThe MIT License (MIT) Copyright (c) 2015 Erich Oliveira ericholiveira.com Permission is hereby granted, free of charge, to any person obtaining a copyof this software and associated documentation files (the &quot;Software&quot;), to dealin the Software without restriction, including without limitation the rightsto use, copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom the Software isfurnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included inall copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS ORIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THEAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHERLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS INTHE SOFTWARE. × Search results Close "},"browserServiceFactory.html":{"id":"browserServiceFactory.html","title":"Class: browserServiceFactory","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Class: browserServiceFactory browserServiceFactory new browserServiceFactory(namespace, Studio) This factory creates a service creates a new service on namespace module,this service can be acessed from the browser and act as proxy for the service itself,its called when the user calls .browserPublic() on their service. Only the servicescreated by this factory are accessible from the browser. (This is private) Parameters: Name Type Description namespace String Studio Object Author: Erich Oliveira Source: browser_service_factory.js, line 13 Returns: The service factory. This factory creates browser public services. Type function × Search results Close "},"Plugin.html":{"id":"Plugin.html","title":"Class: Plugin","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Class: Plugin Plugin new Plugin(options) Plugin for socketio browser access Parameters: Name Type Description options Object Properties Name Type Description defaultNamespace String the module name which will prepend the service automatically instantiated for browser access. Defaults to __browser serviceCallEventName String The name of the channel used to communicate the services. Defaults to __studio_service_call socketIO String The socketIO object used as the server, if none is provided it creates a new server binding to options.port port Number If no options.socketIO is provided, the new server will bind to this port. Defaults to 3000 Author: Erich Oliveira Default Value: { defaultNamespace:'__browser', serviceCallEventName:'__studio_service_call', port:3000 } Source: index.js, line 24 Example var browserPlugin = require('studio-browser'); Studio.use(browserPlugin()); × Search results Close "},"serverFactory.html":{"id":"serverFactory.html","title":"Class: serverFactory","body":" DocStrap Classes browserServiceFactoryPluginserverFactory Class: serverFactory serverFactory new serverFactory(options) Initialize a socketio server for browser/server service rpc communication. (This is private) Parameters: Name Type Description options Object Properties Name Type Description defaultNamespace String the module name which will prepend the service automatically instantiated for browser access. serviceCallEventName String The name of the channel used to communicate the services. socketIO String The socketIO object used as the server, if none is provided it creates a new server binding to options.port port String If no options.socketIO is provided, the new server will bind to this port. Defaults to 3000 Author: Erich Oliveira Source: socket_io_server.js, line 19 Returns: Type undefined × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
